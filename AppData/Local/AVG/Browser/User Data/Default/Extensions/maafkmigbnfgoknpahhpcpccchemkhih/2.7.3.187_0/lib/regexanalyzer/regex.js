!function(e,n,t){"use strict";"undefined"!=typeof Components&&"object"==typeof Components.classes&&"object"==typeof Components.classesByID&&Components.utils&&"function"==typeof Components.utils.import?(e.$deps=e.$deps||{})&&(e.EXPORTED_SYMBOLS=[n])&&(e.Regex=e.$deps.Regex=t.call(e)):"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps.Regex=t.call(e)):"undefined"!=typeof System&&"function"==typeof System.register&&"function"==typeof System.import?System.register(n,[],(function(r){r(n,t.call(e))})):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["module"],(function(n){return t.moduleUri=n.uri,t.call(e)})):n in e||(e.Regex=t.call(e)||1)&&"function"==typeof define&&define.amd&&define((function(){return e.Regex}))}("undefined"!=typeof self?self:this,"Regex",(function(e){"use strict";var n="1.1.0",t="prototype",r=Object[t],a=Array[t],l=(Object.keys,r.toString),u=r.hasOwnProperty,o=String.fromCharCode,s="charAt",i="charCodeAt",p=(JSON.stringify,1/0),c="\\",f={".":"MatchAnyChar","|":"MatchEither","?":"MatchZeroOrOne","*":"MatchZeroOrMore","+":"MatchOneOrMore","^":"MatchStart",$:"MatchEnd","{":"StartRepeats","}":"EndRepeats","(":"StartGroup",")":"EndGroup","[":"StartCharGroup","]":"EndCharGroup"},h={"\\":"ESC","/":"/",0:"NULChar",f:"FormFeed",n:"LineFeed",r:"CarriageReturn",t:"HorizontalTab",v:"VerticalTab",b:"MatchWordBoundary",B:"MatchNonWordBoundary",s:"MatchSpaceChar",S:"MatchNonSpaceChar",w:"MatchWordChar",W:"MatchNonWordChar",d:"MatchDigitChar",D:"MatchNonDigitChar"},g=16,v=32,d=64,m=128,y=256,C=512,x=1024,G=2048;function S(e){return e instanceof Array||"[object Array]"===l.call(e)}function M(e){return e instanceof String||"[object String]"===l.call(e)}function b(e){return S(e)?e:[e]}function N(e,n){for(var t in n=n||{},e)u.call(e,t)&&(n[t]=e[t]);return n}function k(e){var n=this;n.re=e,n.len=e.length,n.pos=0,n.index=0,n.groupIndex=0,n.group={},n.inGroup=0}function O(e,n,t){var r=this;if(!(r instanceof O))return new O(e,n,t);switch(r.type=e,r.val=n,r.flags=t||{},e){case 1:r.typeName="Sequence";break;case 2:r.typeName="Alternation";break;case 4:r.typeName="Group";break;case 8:r.typeName="CharacterGroup";break;case y:r.typeName="Characters";break;case C:r.typeName="CharacterRange";break;case x:r.typeName="String";break;case g:r.typeName="Quantifier";break;case v:r.typeName="UnicodeChar";break;case d:r.typeName="HexChar";break;case m:r.typeName="Special";break;case G:r.typeName="Comment";break;default:r.typeName="unspecified"}}k[t]={constructor:k,re:null,len:null,pos:null,index:null,groupIndex:null,inGroup:null,groups:null,dispose:function(){var e=this;e.re=null,e.len=null,e.pos=null,e.index=null,e.groupIndex=null,e.group=null,e.inGroup=null}},O.toObjectStatic=function e(n){return n instanceof O?n.flags&&Object.keys(n.flags).length?{type:n.typeName,value:e(n.val),flags:n.flags}:{type:n.typeName,value:e(n.val)}:S(n)?n.map(e):n},O[t]={constructor:O,type:null,typeName:null,val:null,flags:null,dispose:function(){var e=this;return e.val=null,e.flags=null,e.type=null,e.typeName=null,e},toObject:function(){return O.toObjectStatic(this)}};var I,E=function(e,n){return Math.round((n-e)*Math.random()+e)},R=function(e,n){return new RegExp(e,n||"")},A=function(e){return a.slice.apply(e,a.slice.call(arguments,1))},L=function(e,n){return function(e){for(var n=[],t=0;t<e.length;)n=n.concat(e[t++]);return n}(A(e))},j=function(e,n,t){var r,a="",l=e.length,u=0;if(t)for(;u<l;)a+=("-"===(r=e[s](u++))||"^"===r||"$"===r||"|"===r||"{"===r||"}"===r||"("===r||")"===r||"["===r||"]"===r||"/"===r||n===r?n:"")+r;else for(;u<l;)a+=("?"===(r=e[s](u++))||"*"===r||"+"===r||"."===r||"^"===r||"$"===r||"|"===r||"{"===r||"}"===r||"("===r||")"===r||"["===r||"]"===r||"/"===r||n===r?n:"")+r;return a},B=function(e,n,t){var r=String(e);for(t=t||"0";r.length<n;)r=t+r;return r},w=function(e){return e[i](0)},z=function(e,n){e&&S(e)&&(n=e[1],e=e[0]);var t,r,a=e[i](0),l=n[i](0);if(l===a)return[o(a)];for(r=[],t=a;t<=l;++t)r.push(o(t));return r},D=function(e,n){var t,r;if(n)if(S(n))for(t=0,r=n.length;t<r;t++)e[n[t]]=1;else for(t in n)u.call(n,t)&&(e[t]=1);return e},U=" \t\v",F="~!@#$%^&*()-+=[]{}\\|;:,./<>?",$="0123456789",P=[(I=$)[i](0),I[i](I.length-1)],W=[P,[w("a"),w("f")],[w("A"),w("F")]],q="_"+z("a","z").join("")+z("A","Z").join(""),T=U+F+$+q,Z=T.split(""),V=function(e,n,t,r,a){r=r||1,a=a||p;for(var l=t=t||0,u=0,o=n.length;l<o&&u<=a&&-1<e.indexOf(n[s](l));)l++,u++;return u>=r&&u},_=function(e,n,t,r,a){r=r||1,a=a||p;for(var l,u=t=t||0,o=0,s=n.length;u<s&&o<=a&&(l=n[i](u))>=e[0]&&l<=e[1];)u++,o++;return o>=r&&o},H=function(e,n,t,r,a){r=r||1,a=a||p;for(var l,u,o,s=t=t||0,c=0,f=n.length,h=e.length,g=!0;s<f&&c<=a&&g;)for(l=n[i](s),g=!1,u=0;u<h;u++)if(l>=(o=e[u])[0]&&l<=o[1]){s++,c++,g=!0;break}return c>=r&&c},X=function(){return F[s](E(0,F.length-1))},Y=function(e){return!1!==e?U[s](E(0,U.length-1)):(X()+J()+Q())[s](E(0,2))},J=function(e){return!1!==e?$[s](E(0,$.length-1)):(X()+Y()+Q())[s](E(0,2))},Q=function(e){return!1!==e?q[s](E(0,q.length-1)):(X()+Y()+J())[s](E(0,2))},K=function(e){return!1!==e?(q+$)[s](E(0,q.length+$.length-1)):(X()+Y())[s](E(0,1))},ee=function(e){return.5<Math.random()?e.toLowerCase():e.toUpperCase()},ne=function(e,n){return n?(e[s]&&(e=e.split("")),e=e.map(ee)):ee(e)},te=function e(n,t,r){if(null==t||!r)return n;var a,l,u,o=t instanceof O?t.type:null;if(null===o)n=r.reduce(n,t,r);else if(r.IGNORE&o);else if(r.MAP&o){if(u=r.map(n,t,r),null!=r.ret)n=r.reduce(n,t,r),r.ret=null;else if(null!=u)for(a=0,l=(u=b(u))?u.length:0;a<l;a++)if(r.node=t,n=e(n,u[a],r),r.stop)return r.stop=null,n}else r.REDUCE&o&&(n=r.reduce(n,t,r));return r.node=null,n},re=function(e,n,t){var r=n.type;if(2===r){for(var a=[],l=0,u=n.val.length-1;l<u;l++)a.push(n.val[l],"|");return a.push(n.val[u]),a}if(8===r)return[].concat("["+(n.flags.NegativeMatch?"^":"")).concat(b(n.val)).concat("]");if(g===r){var o="";return o=n.flags.MatchZeroOrOne?"?":n.flags.MatchZeroOrMore?"*":n.flags.MatchOneOrMore?"+":n.flags.min===n.flags.max?"{"+n.flags.min+"}":"{"+n.flags.min+","+(-1===n.flags.max?"":n.flags.max)+"}",n.flags.min===n.flags.max||n.flags.isGreedy||(o+="?"),[].concat(b(n.val)).concat(o)}if(4===r){var s;return s=n.flags.NotCaptured?[].concat("(?:").concat(b(n.val)).concat(")"):n.flags.LookAhead?[].concat("(?=").concat(b(n.val)).concat(")"):n.flags.NegativeLookAhead?[].concat("(?!").concat(b(n.val)).concat(")"):n.flags.LookBehind?[].concat("(?<=").concat(b(n.val)).concat(")"):n.flags.NegativeLookBehind?[].concat("(?<!").concat(b(n.val)).concat(")"):[].concat("(").concat(b(n.val)).concat(")"),null!=n.flags.GroupIndex&&(e.group[n.flags.GroupIndex]=n.flags.GroupIndex,n.flags.GroupName&&(e.group[n.flags.GroupName]=n.flags.GroupIndex)),s}return n.val},ae=function(e,n,t){var r=n.type;if(2===r||8===r)return n.val.length?n.val[E(0,n.val.length-1)]:null;if(g===r){var a,l,u,o;if(e.length>=t.maxLength?a=n.flags.min:(l=n.flags.min,u=-1===n.flags.max?l+1+2*t.maxLength:n.flags.max,a=E(l,u)),a){o=new Array(a);for(var s=0;s<a;s++)o[s]=n.val;return o}return null}if(4===r&&n.flags.GroupIndex){var i=te("",n.val,t);return t.group[n.flags.GroupIndex]=i,t.ret=i,null}return n.val},le=function(e,n,t){var r=n.type;if(2===r){var a,l=n.val.length,u=l?te(0,n.val[0],t):0;for(o=1;o<l;o++)(a=te(0,n.val[o],t))<u&&(u=a);return l&&(t.ret=u),null}if(8===r)return n.val.length?n.val[0]:null;if(g===r){if(0===n.flags.min)return null;var o,s=n.flags.min,i=new Array(s);for(o=0;o<s;o++)i[o]=n.val;return i}return 4===r&&n.flags.GroupIndex?(u=te(0,n.val,t),t.group[n.flags.GroupIndex]=u,t.ret=u,null):n.val},ue=function(e,n,t){var r=n.type;if(2===r){var a,l,u=n.val.length;if(-1!==(o=u?te(0,n.val[0],t):0))for(a=1;a<u;a++){if(-1===(l=te(0,n.val[a],t))){o=-1;break}l>o&&(o=l)}return u&&(t.ret=o),null}if(8===r)return n.val.length?n.val[0]:null;if(g===r)return-1===(o=te(0,n.val,t))?t.ret=-1:0<o&&(-1===n.flags.max?t.ret=-1:0<n.flags.max?t.ret=n.flags.max*o:t.ret=o),null;if(4===r&&n.flags.GroupIndex){var o=te(0,n.val,t);return t.group[n.flags.GroupIndex]=o,t.ret=o,null}return n.val},oe=function(e,n,t){if(1===n.type){var r,a=[],l=0,u=n.val.length;for(l=0;l<u&&(r=n.val[l],a.push(r),g===r.type&&0===r.flags.min||m===r.type&&(r.flags.MatchStart||r.flags.MatchEnd));l++);return a.length?a:null}return n.val},se=function(e,n,t){if(null!=t.ret)return-1===t.ret?e=-1:e+=t.ret,e;if(-1===e)return e;if(n===+n)return e+n;if(m===n.type&&n.flags.MatchEnd)return t.stop=1,e;var r=n.type;return y===r||C===r||v===r||d===r||m===r&&!n.flags.MatchStart&&!n.flags.MatchEnd?e+=n.flags.BackReference?t.group[n.flags.GroupIndex]||0:1:x===r&&(e+=n.val.length),e},ie=function(e,n,t){if(null!=t.ret)return e+t.ret;if(M(n))return e+n;if(m===n.type&&n.flags.MatchEnd)return t.stop=1,e;var r=n.type,a=null;if(y===r)a=n.val;else if(C===r){var l=[n.val[0],n.val[1]];v!==l[0].type&&d!==l[0].type||(l[0]=l[0].flags.Char),v!==l[1].type&&d!==l[1].type||(l[1]=l[1].flags.Char),a=z(l)}else if(v===r||d===r)a=[n.flags.Char];else if(m!==r||n.flags.MatchStart||n.flags.MatchEnd)x===r&&(a=n.val);else{var o=n.val;if(n.flags.BackReference)return e+(u.call(t.group,o)?t.group[o]:"");a="D"===o?[J(!1)]:"W"===o?[K(!1)]:"S"===o?[Y(!1)]:"d"===o?[J()]:"w"===o?[K()]:"s"===o?[Y()]:"."===o&&n.flags.MatchAnyChar?[T[s](E(0,T.length-1))]:[c+o]}return a&&(e+=x===r?t.isCaseInsensitive?ne(a):a:function(e,n){if(!1!==n)return e.length?e[E(0,e.length-1)]:"";var t=Z.filter((function(n){return 0>e.indexOf(n)}));return t.length?t[E(0,t.length-1)]:""}(t.isCaseInsensitive?ne(a,!0):a,!t.node||!t.node.flags.NegativeMatch)),e},pe=function(e,n,t){if(null!=t.ret)return t.ret.src&&(e.src+=t.ret.src),t.ret.group&&(e.group=N(t.ret.group,e.group)),e;if(M(n))return e.src+=n,e;var r=n.type;if(y===r)e.src+=t.escaped?j(n.val.join(""),c,1):n.val.join("");else if(C===r){var a=[n.val[0],n.val[1]];t.escaped?(v===a[0].type?a[0]="\\u"+B(a[0].flags.Code,4):d===a[0].type?a[0]="\\x"+B(a[0].flags.Code,2):a[0]=j(a[0],c,1),v===a[1].type?a[1]="\\u"+B(a[1].flags.Code,4):d===a[1].type?a[1]="\\x"+B(a[1].flags.Code,2):a[1]=j(a[1],c,1)):(v!==a[0].type&&d!==a[0].type||(a[0]=a[0].flags.Char),v!==a[1].type&&d!==a[1].type||(a[1]=a[1].flags.Char)),e.src+=a[0]+"-"+a[1]}else v===r?e.src+=t.escaped?"\\u"+B(n.flags.Code,4):n.flags.Char:d===r?e.src+=t.escaped?"\\x"+B(n.flags.Code,2):n.flags.Char:m===r?n.flags.BackReference?e.src+=c+n.val:e.src+=n.flags.MatchAnyChar||n.flags.MatchStart||n.flags.MatchEnd?""+n.val:c+n.val:x===r&&(e.src+=t.escaped?j(n.val,c):n.val);return e},ce=function(e,n,t){if(null!=t.ret)return e.positive=D(e.positive,t.ret.positive),e.negative=D(e.negative,t.ret.negative),e;if(m===n.type&&n.flags.MatchEnd)return t.stop=1,e;var r=n.type,a=t.node&&8===t.node.type&&t.node.flags.NegativeMatch,l=a?"negative":"positive";if(y===r)e[l]=D(e[l],n.val);else if(C===r){var u=[n.val[0],n.val[1]];v!==u[0].type&&d!==u[0].type||(u[0]=u[0].flags.Char),v!==u[1].type&&d!==u[1].type||(u[1]=u[1].flags.Char),e[l]=D(e[l],z(u))}else if(v===r||d===r)e[l][n.flags.Char]=1;else if(m!==r||n.flags.BackReference||n.flags.MatchStart||n.flags.MatchEnd)x===r&&(e.positive[n.val[s](0)]=1);else{var o=n.val;"D"===o?e[a?"positive":"negative"]["\\d"]=1:"W"===o?e[a?"positive":"negative"]["\\w"]=1:"S"===o?e[a?"positive":"negative"]["\\s"]=1:"B"===o?e[a?"positive":"negative"]["\\b"]=1:e[l][c+o]=1}return e},fe=function(e){var n=!1;return!!(e.length>2&&"x"===e[s](0)&&H(W,e,1,2,2))&&[n=e.slice(0,3),n.slice(1)]},he=function(e){var n=!1;return!!(e.length>4&&"u"===e[s](0)&&H(W,e,1,4,4))&&[n=e.slice(0,5),n.slice(1)]},ge=function(e){var n,t=e.length,r=0,a=!1,l=!1;return t>2&&"{"===e[s](r)&&(a=["","",null],r++,(n=V(U,e,r))&&(r+=n),!!(n=_(P,e,r))&&(a[1]=e.slice(r,r+n),(n=V(U,e,r+=n))&&(r+=n),r<t&&","===e[s](r)&&(r+=1,l=!0),(n=V(U,e,r))&&(r+=n),(n=_(P,e,r))&&(a[2]=e.slice(r,r+n),r+=n),(n=V(U,e,r))&&(r+=n),r<t&&"}"===e[s](r)&&(r++,a[0]=e.slice(0,r),l||(a[2]=a[1]),a)))},ve=function(e){var n,t,r,a,l,i,p,f=[],g=[],x=[],G={},S=!1,M=!1;for("^"===e.re[s](e.pos)&&(G.NegativeMatch=1,e.pos++),r=e.len;e.pos<r;)if(p=!1,i=null,a=t,t=e.re[s](e.pos++),(M=c===t)&&(t=e.re[s](e.pos++)),M&&("u"===t?(i=he(e.re.substr(e.pos-1)),e.pos+=i[0].length-1,t=O(v,i[0],{Char:o(parseInt(i[1],16)),Code:i[1]}),p=!0):"x"===t&&(i=fe(e.re.substr(e.pos-1)),e.pos+=i[0].length-1,t=O(d,i[0],{Char:o(parseInt(i[1],16)),Code:i[1]}),p=!0)),S)g.length&&(x=x.concat(g),g=[]),l[1]=t,S=!1,f.push(O(C,l));else if(M)p?(g.length&&(x=x.concat(g),g=[]),f.push(t)):u.call(h,t)&&"/"!==t?(g.length&&(x=x.concat(g),g=[]),(n={})[h[t]]=1,f.push(O(m,t,n))):g.push(t);else{if("]"===t)return g.length&&(x=x.concat(g),g=[]),x.length&&f.push(O(y,x)),O(8,f,G);"-"===t?(l=[a,""],a instanceof O?f.pop():g.pop(),S=!0):g.push(t)}return g.length&&(x=x.concat(g),g=[]),x.length&&f.push(O(y,x)),O(8,f,G)},de=function e(n){var t,r,a,l,i,p,y,C="",S=0,M=[],b=[],N={},k=!1;if(n.inGroup>0){if(i=n.re.substr(n.pos,2),y=1,"?P="===(p=n.re.substr(n.pos,3))){for(N.BackReference=1,N.GroupName="",n.pos+=3,t=n.len;n.pos<t&&")"!==(r=n.re[s](n.pos++));)N.GroupName+=r;return N.GroupIndex=u.call(n.group,N.GroupName)?n.group[N.GroupName]:null,O(m,String(N.GroupIndex),N)}if("?#"===i){for(N.Comment=1,n.pos+=2,C="",t=n.len;n.pos<t&&")"!==(r=n.re[s](n.pos++));)C+=r;return O(G,C)}if("?:"===i)N.NotCaptured=1,n.pos+=2,y=0;else if("?="===i)N.LookAhead=1,n.pos+=2,y=0;else if("?!"===i)N.NegativeLookAhead=1,n.pos+=2,y=0;else if("?<="===p)N.LookBehind=1,n.pos+=3,y=0;else if("?<!"===p)N.NegativeLookBehind=1,n.pos+=3,y=0;else if("?<"===i||"?P<"===p)for(N.NamedGroup=1,N.GroupName="",n.pos+="?<"===i?2:3,t=n.len;n.pos<t&&">"!==(r=n.re[s](n.pos++));)N.GroupName+=r;++n.index,y&&(++n.groupIndex,N.GroupIndex=n.groupIndex,n.group[N.GroupIndex]=N.GroupIndex,N.GroupName&&(n.group[N.GroupName]=N.GroupIndex))}for(t=n.len;n.pos<t;)if(r=n.re[s](n.pos++),(k=c===r)&&(r=n.re[s](n.pos++)),k)if("u"===r)S&&(b.push(O(x,C)),C="",S=0),a=he(n.re.substr(n.pos-1)),n.pos+=a[0].length-1,b.push(O(v,a[0],{Char:o(parseInt(a[1],16)),Code:a[1]}));else if("x"===r)S&&(b.push(O(x,C)),C="",S=0),a=fe(n.re.substr(n.pos-1)),n.pos+=a[0].length-1,b.push(O(d,a[0],{Char:o(parseInt(a[1],16)),Code:a[1]}));else if(u.call(h,r)&&"/"!==r)S&&(b.push(O(x,C)),C="",S=0),(l={})[h[r]]=1,b.push(O(m,r,l));else if("1"<=r&&"9">=r){for(S&&(b.push(O(x,C)),C="",S=0),C=r;n.pos<t&&"0"<=(r=n.re[s](n.pos))&&"9">=r;)C+=r,n.pos++;(l={}).BackReference=1,l.GroupIndex=parseInt(C,10),b.push(O(m,C,l)),C=""}else C+=r,S+=1;else{if(n.inGroup>0&&")"===r)return S&&(b.push(O(x,C)),C="",S=0),M.length?(M.push(O(1,b)),b=[],(l={})[f["|"]]=1,O(4,O(2,M,l),N)):O(4,O(1,b),N);if("|"===r)S&&(b.push(O(x,C)),C="",S=0),M.push(O(1,b)),b=[];else if("["===r)S&&(b.push(O(x,C)),C="",S=0),b.push(ve(n));else if("("===r)S&&(b.push(O(x,C)),C="",S=0),n.inGroup+=1,b.push(e(n)),n.inGroup-=1;else if("{"===r){S&&(b.push(O(x,C)),C="",S=0),a=ge(n.re.substr(n.pos-1)),n.pos+=a[0].length-1,(l={val:a[0],MatchMinimum:a[1],MatchMaximum:a[2]||"unlimited",min:parseInt(a[1],10),max:a[2]?parseInt(a[2],10):-1})[f[r]]=1,n.pos<t&&"?"===n.re[s](n.pos)?(l.isGreedy=0,n.pos++):l.isGreedy=1;var I=b.pop();x===I.type&&I.val.length>1&&(b.push(O(x,I.val.slice(0,-1))),I.val=I.val.slice(-1)),b.push(O(g,I,l))}else"*"===r||"+"===r||"?"===r?(S&&(b.push(O(x,C)),C="",S=0),(l={})[f[r]]=1,l.min="+"===r?1:0,l.max="?"===r?1:-1,n.pos<t&&"?"===n.re[s](n.pos)?(l.isGreedy=0,n.pos++):l.isGreedy=1,I=b.pop(),x===I.type&&I.val.length>1&&(b.push(O(x,I.val.slice(0,-1))),I.val=I.val.slice(-1)),b.push(O(g,I,l))):u.call(f,r)?(S&&(b.push(O(x,C)),C="",S=0),(l={})[f[r]]=1,b.push(O(m,r,l))):(C+=r,S+=1)}return S&&(b.push(O(x,C)),C="",S=0),M.length?(M.push(O(1,b)),b=[],l={},N[f["|"]]=1,O(2,M,l)):O(1,b)};function me(e,n){if(!(this instanceof me))return new me(e,n);e&&this.input(e,n)}function ye(){var e=this;if(!(e instanceof ye))return new ye;e.re=null,e.reset()}me.VERSION=n,me[t]={constructor:me,ast:null,re:null,fl:null,src:null,grp:null,min:null,max:null,ch:null,dispose:function(){var e=this;return e.ast=null,e.re=null,e.fl=null,e.src=null,e.grp=null,e.min=null,e.max=null,e.ch=null,e},reset:function(){var e=this;return e.ast=null,e.src=null,e.grp=null,e.min=null,e.max=null,e.ch=null,e},input:function(e,n){var t=this;if(!arguments.length)return t.re;if(e){n=!1!==n&&(n||"/");var r,a,l={};if(r=(e=e.toString()).length,n){for(;0<r&&n!==(a=e[s](r-1));)l[a]=1,r--;e=0<r?n===e[s](0)&&n===e[s](r-1)?e.slice(1,r-1):e.slice(0,r):""}t.re!==e&&t.reset(),t.re=e,t.fl=l}return t},analyze:function(){var e=this;if(null!=e.re&&null===e.ast){var n=new k(e.re);e.ast=de(n),n.dispose()}return e},synthesize:function(e){var n,t,r=this;return null==r.re||(null===r.ast&&(r.analyze(),r.src=null,r.grp=null),null===r.src&&(n={MAP:31,REDUCE:2016,IGNORE:G,map:re,reduce:pe,escaped:!1!==e,group:{}},t=te({src:"",group:{}},r.ast,n),r.src=t.src,r.grp=t.group)),r},source:function(){var e=this;return null==e.re?null:(null===e.src&&e.synthesize(),e.src)},groups:function(e){var n=this;return null==n.re?null:(null===n.grp&&n.synthesize(),!0===e?sel.grp:N(n.grp))},compile:function(e){var n=this;return null==n.re?null:(e=e||n.fl||{},new RegExp(n.source(),(e.g||e.G?"g":"")+(e.i||e.I?"i":"")+(e.m||e.M?"m":"")+(e.y||e.Y?"y":"")))},tree:function(e){var n=this;return null==n.re?null:(null===n.ast&&n.analyze(),!0===e?n.ast.toObject():n.ast)},sample:function(e,n){var t,r=this;if(null==r.re)return null;if(null===r.ast&&r.analyze(),t={MAP:31,REDUCE:2016,IGNORE:G,map:ae,reduce:ie,maxLength:0|e||1,isCaseInsensitive:null!=r.fl.i,group:{}},1<(n=0|n||1)){for(var a=new Array(n),l=0;l<n;l++)a[l]=te("",r.ast,t);return a}return te("",r.ast,t)},minimum:function(){var e,n=this;return null==n.re?0:(null===n.ast&&(n.analyze(),n.min=null),null===n.min&&(e={MAP:31,REDUCE:2016,IGNORE:G,map:le,reduce:se,group:{}},n.min=0|te(0,n.ast,e)),n.min)},maximum:function(){var e,n=this;return null==n.re?0:(null===n.ast&&(n.analyze(),n.max=null),null===n.max&&(e={MAP:31,REDUCE:2016,IGNORE:G,map:ue,reduce:se,group:{}},n.max=te(0,n.ast,e)),n.max)},peek:function(){var e,n,t,r,a,l,u,o=this;if(null==o.re)return null;for(r in null===o.ast&&(o.analyze(),o.ch=null),null===o.ch&&(e={MAP:31,REDUCE:2016,IGNORE:G,map:oe,reduce:ce,group:{}},o.ch=te({positive:{},negative:{}},o.ast,e)),t={positive:N(o.ch.positive),negative:N(o.ch.negative)},n=null!=o.fl.i,t){for(a in u={},l=t[r])"\\d"===a?(delete l[a],u=D(u,z("0","9"))):"\\s"===a?(delete l[a],u=D(u,["\f","\n","\r","\t","\v"," ","\u2028","\u2029"])):"\\w"===a?(delete l[a],u=D(u,["_"].concat(z("0","9")).concat(z("a","z")).concat(z("A","Z")))):"\\b"===a?(delete l[a],u[f.b]=1):"\\."===a?(delete l[a],u[f["."]]=1):c!==a[s](0)&&n?(u[a.toLowerCase()]=1,u[a.toUpperCase()]=1):c===a[s](0)&&delete l[a];t[r]=D(l,u)}return t}},me[t].set=me[t].input,ye.VERSION=n,ye[t]={constructor:ye,re:null,g:0,grp:null,level:0,ast:null,dispose:function(){var e=this;return e.re=null,e.g=null,e.grp=null,e.level=null,e.ast=null,e},reset:function(){var e=this;return e.g=0,e.grp={},e.level=0,e.ast=[{node:[],type:1,flag:""}],e},compose:function(){var e=this,n=A(arguments).join(""),t=e.ast[0].node.join("");return e.re={source:t,flags:n,groups:e.grp,pattern:R(t,n)},e.reset(),e.re},partial:function(e){var n=this.ast[0].node.join("");return!1!==e&&this.reset(),n},token:function(e,n){var t=this;return null!=e&&t.ast[t.level].node.push(n?j(String(e),c):String(e)),t},literal:function(e){return this.token(String(e),!0)},regexp:function(e){return this.token(String(e),!1)},SOL:function(){var e=this;return e.ast[e.level].node.push("^"),e},SOF:function(){return this.SOL()},EOL:function(){var e=this;return e.ast[e.level].node.push("$"),e},EOF:function(){return this.EOL()},LF:function(){var e=this;return e.ast[e.level].node.push("\\n"),e},CR:function(){var e=this;return e.ast[e.level].node.push("\\r"),e},TAB:function(){var e=this;return e.ast[e.level].node.push("\\t"),e},CTRL:function(e){var n=this;return n.ast[n.level].node.push("\\c"+(e||0)),n},HEX:function(e){var n=this;return n.ast[n.level].node.push("\\x"+B(e||0,2)),n},UNICODE:function(e){var n=this;return n.ast[n.level].node.push("\\u"+B(e||0,4)),n},backSpace:function(){var e=this;return e.ast[e.level].node.push("[\\b]"),e},any:function(e){var n=this;return n.ast[n.level].node.push(e?"[\\s\\S]":"."),n},space:function(e){var n=this;return arguments.length<1&&(e=!0),n.ast[n.level].node.push(e?"\\s":"\\S"),n},digit:function(e){var n=this;return arguments.length<1&&(e=!0),n.ast[n.level].node.push(e?"\\d":"\\D"),n},word:function(e){var n=this;return arguments.length<1&&(e=!0),n.ast[n.level].node.push(e?"\\w":"\\W"),n},boundary:function(e){var n=this;return arguments.length<1&&(e=!0),n.ast[n.level].node.push(e?"\\b":"\\B"),n},characters:function(){var e=this;return 8===e.ast[e.level].type&&e.ast[e.level].node.push(L(arguments).map((function(e){return j(String(e),c,1)})).join("")),e},range:function(e,n){var t=this;return null!=e&&null!=n&&8===t.ast[t.level].type&&t.ast[t.level].node.push(j(String(e),c,1)+"-"+j(String(n),c,1)),t},backReference:function(e){var n=this;return n.ast[n.level].node.push(c+(u.call(n.grp,e)?n.grp[e]:0|e)),n},repeat:function(e,n,t){var r=this;if(null==e)return r;arguments.length<3&&(t=!0);var a=(null==n||e===n?"{"+String(e)+"}":"{"+String(e)+","+String(n)+"}")+(t?"":"?");return r.ast[r.level].node[r.ast[r.level].node.length-1]+=a,r},zeroOrOne:function(e){var n=this;return arguments.length<3&&(e=!0),n.ast[n.level].node[n.ast[n.level].node.length-1]+=e?"?":"??",n},zeroOrMore:function(e){var n=this;return arguments.length<3&&(e=!0),n.ast[n.level].node[n.ast[n.level].node.length-1]+=e?"*":"*?",n},oneOrMore:function(e){var n=this;return arguments.length<3&&(e=!0),n.ast[n.level].node[n.ast[n.level].node.length-1]+=e?"+":"+?",n},alternate:function(){var e=this;return e.level++,e.ast.push({node:[],type:2,flag:"",sequences:[]}),e},either:function(){return this.alternate()},or_:function(){var e=this,n=e.ast[e.level];return 2===n.type&&n.node.length&&(n.sequences.push(n.node.join("")),n.node=[]),e},group:function(e,n){var t=this,r=4,a="";return M(e)?(a=e,(e={})[a]=n,a=""):e=e||{},e.name||e.named?(t.g++,t.grp[t.g]=t.g,t.grp[e.name||e.named]=t.g):!0===e.lookahead||!1===e.lookahead?a=!1===e.lookahead?"?!":"?=":!0===e.lookbehind||!1===e.lookbehind?a=!1===e.lookbehind?"?<!":"?<=":!0===e.nocapture?a="?:":!0===e.characters||!1===e.characters?(r=8,a=!1===e.characters?"^":""):(t.g++,t.grp[t.g]=t.g),t.level++,t.ast.push({node:[],type:r,flag:a}),t},subGroup:function(e){return this.group(e)},characterGroup:function(e){return this.group({characters:!1!==e})},namedGroup:function(e){return this.group({name:e})},nonCaptureGroup:function(){return this.group({nocapture:!0})},lookAheadGroup:function(e){return this.group({lookahead:!1!==e})},lookBehindGroup:function(e){return this.group({lookbehind:!1!==e})},end:function(e){var n,t,r,a,l,u=this;for(e=(arguments.length?0|e:1)||1;e--;)t=(n=u.ast.length?u.ast.pop():null)?n.type:0,r=n?n.flag:"",a=n?n.node:[],2===t&&(l=n?n.sequences:[],a=a.length?l.concat(a.join("")):l),0<u.level&&(--u.level,2===t?u.ast[u.level].node.push(a.join("|")):4===t?u.ast[u.level].node.push("("+r+a.join("")+")"):8===t?u.ast[u.level].node.push("["+r+a.join("")+"]"):u.ast[u.level].node.push(a.join("")));return u}};var Ce=ye[t];return Ce.startOfLine=Ce.SOL,Ce.endOfLine=Ce.EOL,Ce.startOfInput=Ce.SOF,Ce.endOfInput=Ce.EOF,Ce.match=Ce.token,Ce.sub=Ce.regexp,Ce.lineFeed=Ce.LF,Ce.carriageReturn=Ce.CR,Ce.tabulate=Ce.TAB,Ce.wordBoundary=Ce.boundary,Ce.chars=Ce.characters,Ce.charGroup=Ce.characterGroup,Ce.namedSubGroup=Ce.namedGroup,Ce.nonCaptureSubGroup=Ce.nonCaptureGroup,Ce.lookAheadSubGroup=Ce.lookAheadGroup,Ce.lookBehindSubGroup=Ce.lookBehindGroup,{VERSION:n,Node:O,Analyzer:me,Composer:ye}}));