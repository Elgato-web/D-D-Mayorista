"use strict";{const e=/^([\s\S]*?)<(b|code|em|i|span)>(.+?)<\/\2>([\s\S]*)$/,t=/^([\s\S]*?)<(a href=['"]https:\/\/[^'" <>]+['"])>(.+?)<\/a>([\s\S]*)$/,n=/^a href=(['"])(https:\/\/[^'"]+)\1$/,r=function(e){if(0===e.lastIndexOf("a ",0)){const t=n.exec(e);if(null===t)return null;const r=document.createElement("a");return r.setAttribute("href",t[2]),r}switch(e){case"b":return document.createElement("b");case"code":return document.createElement("code");case"em":return document.createElement("em");case"i":return document.createElement("i");case"span":return document.createElement("span")}},l=(()=>{const e=new Map([["&shy;","­"],["&ldquo;","“"],["&rdquo;","”"],["&lsquo;","‘"],["&rsquo;","’"],["&lt;","<"],["&gt;",">"]]),t=t=>e.get(t)||t;return function(e){return-1!==e.indexOf("&")&&(e=e.replace(/&[a-z]+;/g,t)),e}})(),i=function(e){return document.createTextNode(l(e))},a=function(n,l){if(""===n)return;if(-1===n.indexOf("<")){const e=i(n);let t=0!==l.childElementCount?l.firstChild:null;for(;null!==t&&(3!==t.nodeType||"_"!==t.nodeValue);)t=t.nextSibling;return void(null!==t?l.replaceChild(e,t):l.appendChild(e))}n=n.replace(/^<p>|<\/p>/g,"").replace(/<p>/g,"\n\n");let o=e.exec(n);if(null===o&&(o=t.exec(n),null===o))return void l.appendChild(i(n));const c=document.createDocumentFragment();a(o[1],c);let u=r(o[2]);a(o[3],u),c.appendChild(u),a(o[4],c),l.appendChild(c)};vAPI.i18n.safeTemplateToDOM=function(e,t,n){void 0===n&&(n=document.createDocumentFragment());let r=vAPI.i18n(e);if(""===r)return n;if(-1===r.indexOf("{{"))return a(r,n),n;const l=/\{\{\w+\}\}/g;let i="";for(;;){let e=l.exec(r);if(null===e){i+=r;break}i+=r.slice(0,e.index);let n=e[0].slice(2,-2);t.hasOwnProperty(n)?i+=t[n].replace(/</g,"&lt;").replace(/>/g,"&gt;"):i+=n,r=r.slice(l.lastIndex)}return a(i,n),n},vAPI.i18n.render=function(e){const t=document,n=e||t;for(const e of n.querySelectorAll("[data-i18n]")){let t=vAPI.i18n(e.getAttribute("data-i18n"));if(!t)continue;if(-1===t.indexOf("{{")){a(t,e);continue}const n=t.split(/(\{\{[^}]+\}\})/),r=document.createDocumentFragment();let l="";for(let t of n)if(""!==t){if(t.startsWith("{{")&&t.endsWith("}}")){const n=t.indexOf(":");-1!==n&&(t=t.slice(0,n)+t.slice(-2));const i=t.slice(2,-2);let o;if(46!==i.charCodeAt(0)&&(o=e.querySelector(`.${i}`)),o instanceof Element==0&&(o=e.querySelector(i)),o instanceof Element){a(l,r),r.appendChild(o),l="";continue}}l+=t}""!==l&&a(l,r),e.appendChild(r)}for(const e of n.querySelectorAll("[data-i18n-title]")){const t=vAPI.i18n(e.getAttribute("data-i18n-title"));t&&e.setAttribute("title",l(t))}for(const e of n.querySelectorAll("[placeholder]"))e.setAttribute("placeholder",vAPI.i18n(e.getAttribute("placeholder")));for(const e of n.querySelectorAll("[data-i18n-tip]")){const t=vAPI.i18n(e.getAttribute("data-i18n-tip")).replace(/<br>/g,"\n").replace(/\n{3,}/g,"\n\n");e.setAttribute("data-tip",t),"data-tip"===e.getAttribute("aria-label")&&e.setAttribute("aria-label",t)}},vAPI.i18n.render(),vAPI.i18n.renderElapsedTimeToString=function(e){let t=(Date.now()-e)/6e4;return t<2?vAPI.i18n("elapsedOneMinuteAgo"):t<60?vAPI.i18n("elapsedManyMinutesAgo").replace("{{value}}",Math.floor(t).toLocaleString()):(t/=60,t<2?vAPI.i18n("elapsedOneHourAgo"):t<24?vAPI.i18n("elapsedManyHoursAgo").replace("{{value}}",Math.floor(t).toLocaleString()):(t/=24,t<2?vAPI.i18n("elapsedOneDayAgo"):vAPI.i18n("elapsedManyDaysAgo").replace("{{value}}",Math.floor(t).toLocaleString())))}}