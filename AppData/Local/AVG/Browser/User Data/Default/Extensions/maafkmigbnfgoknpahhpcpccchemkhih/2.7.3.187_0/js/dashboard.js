"use strict";{const t=function(t=!1){const a=document.getElementById("iframe").contentWindow;return"function"!=typeof a.hasUnsavedData||!1===a.hasUnsavedData()||!t&&new Promise((t=>{const a=uDom.nodeFromId("unsavedWarning");a.classList.add("on"),a.focus();const e=e=>{a.classList.remove("on"),document.removeEventListener("click",n,!0),t(e)},n=t=>{const n=t.target;return n.matches('[data-i18n="dashboardUnsavedWarningStay"]')?e(!1):n.matches('[data-i18n="dashboardUnsavedWarningIgnore"]')?e(!0):void(a.querySelector('[data-i18n="dashboardUnsavedWarning"]').contains(n)||e(!1))};document.addEventListener("click",n,!0)}))},a=function(a,e){const n=uDom.nodeFromSelector(`[data-pane="${a}"]`);if(null===n||n.classList.contains("selected"))return;const o=()=>{self.location.replace(`#${a}`),uDom(".tabButton.selected").toggleClass("selected",!1),n.classList.add("selected"),n.scrollIntoView(),uDom.nodeFromId("iframe").setAttribute("src",a),"no-dashboard.html"!==a&&vAPI.localStorage.setItem("dashboardLastVisitedPane",a)};if(e)return o();const s=t();return!1!==s?!0===s?o():void s.then((t=>{!1!==t&&o()})):void 0},e=function(t){a(t.target.getAttribute("data-pane"))};"no-dashboard.html"===self.location.hash.slice(1)&&document.body.classList.add("noDashboard"),(async()=>{const n=await Promise.all([vAPI.messaging.send("dashboard",{what:"dashboardConfig"}),vAPI.localStorage.getItemAsync("dashboardLastVisitedPane")]);{const t=n[0];document.body.classList.toggle("canUpdateShortcuts",!0===t.canUpdateShortcuts),t.noDashboard?(self.location.hash="#no-dashboard.html",document.body.classList.add("noDashboard")):"#no-dashboard.html"===self.location.hash&&(self.location.hash="")}{let o=n[1];""!==self.location.hash&&(o=self.location.hash.slice(1)||null),a(null!==o?o:"settings.html",!0),uDom(".tabButton").on("click",e),window.addEventListener("beforeunload",(()=>{t(!0)||(event.preventDefault(),event.returnValue="")}))}})()}